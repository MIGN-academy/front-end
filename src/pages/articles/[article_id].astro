---
import 'dotenv/config';
import 'axios';
import Layout from '@/layouts/Layout.astro';
import {TiptapDisplay} from "../../components/TiptapDisplay";

const DOMAIN = import.meta.env.DOMAIN;

const { article_id } = Astro.params;

const response = await fetch(`${DOMAIN}/articles/${article_id}/`);
const data = await response.json();
---

<Layout title="Articles">
    <div>
        <header>
            <h1>{data.title}</h1>
        </header>
        <TiptapDisplay client:only="react" content={data.content} />
    </div>
</Layout>

<style>
    .content {
        margin-top: 20px;
    }
</style>